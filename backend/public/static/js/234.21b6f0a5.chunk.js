"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[234],{7234:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var c=t(9439),s=t(2791),r=t(1243),a=t(1087),i=t(9085),l=(t(5462),t(184)),d=function(){var e=(0,s.useState)([]),n=(0,c.Z)(e,2),t=n[0],d=n[1],o=(0,s.useState)(!1),h=(0,c.Z)(o,2),u=h[0],x=h[1],m=(0,s.useState)(null),j=(0,c.Z)(m,2),p=j[0],v=j[1],f=(0,s.useState)([]),g=(0,c.Z)(f,2),b=g[0],C=g[1],N=function(e){C(e===b?"":e)};(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/order/all-order"),{withCredentials:!0}).then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))}),[u]);var Z=t.filter((function(e){return p?e._id.includes(p):0!==b.length?e.status.includes(b)||e.paymentMethod.includes(b):e}));return(0,l.jsxs)("div",{className:"product-content",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsx)("div",{className:"search-bar",children:(0,l.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo m\xe3 \u0111\u01a1n h\xe0ng",value:p,onChange:function(e){v(e.target.value)}})}),(0,l.jsxs)("div",{className:"status-checkboxes",children:[(0,l.jsx)("h2",{children:"L\u1ecdc theo tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng: "}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"Not_proccessed",checked:b.includes("Not_proccessed"),onChange:function(){return N("Not_proccessed")}}),"Ch\u01b0a x\u1eed l\xfd"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"Processing",checked:b.includes("Processing"),onChange:function(){return N("Processing")}}),"\u0110ang x\u1eed l\xfd"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"Shipped",checked:b.includes("Shipped"),onChange:function(){return N("Shipped")}}),"\u0110\xe3 g\u1eedi"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"Delivered",checked:b.includes("Delivered"),onChange:function(){return N("Delivered")}}),"\u0110\xe3 giao"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"Cancelled",checked:b.includes("Cancelled"),onChange:function(){return N("Cancelled")}}),"\u0110\xe3 h\u1ee7y"]}),(0,l.jsx)("h2",{children:"L\u1ecdc theo ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n: "}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"COD",checked:b.includes("COD"),onChange:function(){return N("COD")}}),"COD"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:"VNPAY",checked:b.includes("VNPAY"),onChange:function(){return N("VNPAY")}}),"VNPAY"]})]}),(0,l.jsx)("div",{className:"table-container_1",children:(0,l.jsxs)("table",{className:"product-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"M\xe3 \u0111\u01a1n h\xe0ng"}),(0,l.jsx)("th",{children:"\u0110\u1ecba ch\u1ec9"}),(0,l.jsx)("th",{children:"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"}),(0,l.jsx)("th",{children:"Tr\u1ea1ng th\xe1i thanh to\xe1n"}),(0,l.jsx)("th",{children:"T\u1ed5ng gi\xe1 ti\u1ec1n"}),(0,l.jsx)("th",{children:"Ph\xed giao h\xe0ng"}),(0,l.jsx)("th",{children:"Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng"}),(0,l.jsx)("th",{children:"Chi ti\u1ebft"})]})}),(0,l.jsx)("tbody",{children:Z.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e._id}),(0,l.jsx)("td",{children:e.address}),(0,l.jsx)("td",{children:e.paymentMethod}),(0,l.jsx)("td",{children:e.paymentStatus.isPaid?(0,l.jsxs)("span",{children:["\u0110\xe3 thanh to\xe1n (",e.paymentStatus.payId,")"]}):(0,l.jsx)("span",{children:"Ch\u01b0a thanh to\xe1n"})}),(0,l.jsx)("td",{children:e.totalPrice}),(0,l.jsx)("td",{children:e.shippingFee}),(0,l.jsx)("td",{children:(0,l.jsxs)("select",{value:e.status,onChange:function(n){return t=e._id,void("Shipped"===(c=n.target.value)?r.Z.put("".concat("http://localhost:5000","/order/update-status-shipped/").concat(t,"/").concat(c),"",{withCredentials:!0}).then((function(e){(0,i.Am)("\u0110\xe3 g\u1eedi h\xe0ng cho shipper"),x(!u)})).catch((function(e){console.log(e)})):r.Z.put("".concat("http://localhost:5000","/order/update-status/").concat(t,"/").concat(c),"",{withCredentials:!0}).then((function(e){(0,i.Am)("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),x(!u)})).catch((function(e){console.log(e)})));var t,c},children:[(0,l.jsx)("option",{value:e.status,disabled:!0,children:"Not_proccessed"===e.status?"Ch\u01b0a x\u1eed l\xfd":"Processing"===e.status?"\u0110ang x\u1eed l\xfd":"Shipped"===e.status?"\u0110\xe3 g\u1eedi":"Delivered"===e.status?"\u0110\xe3 giao":"\u0110\xe3 h\u1ee7y"},e.status),(0,l.jsx)("option",{value:"Not_proccessed",children:"Ch\u01b0a x\u1eed l\xfd"}),(0,l.jsx)("option",{value:"Processing",children:"\u0110ang x\u1eed l\xfd"}),(0,l.jsx)("option",{value:"Shipped",children:"\u0110\xe3 g\u1eedi"}),(0,l.jsx)("option",{value:"Delivered",children:"\u0110\xe3 giao"}),(0,l.jsx)("option",{value:"Cancelled",children:"\u0110\xe3 h\u1ee7y"})]})}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"detail-button",children:(0,l.jsx)(a.OL,{className:"order-navlink-button",to:"/chi-tiet-don-hang/".concat(e._id),children:"Chi ti\u1ebft"})})})]},e._id)}))})]})})]})},o=function(e){var n=e.product,t=e.onClose;return n?(0,l.jsx)("div",{className:"detail-modal-product",children:(0,l.jsxs)("div",{className:"modal-body",children:[(0,l.jsx)("span",{className:"close",onClick:t,children:"\xd7"}),(0,l.jsx)("h2",{children:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m"}),(0,l.jsx)("div",{className:"modal-body__table",children:(0,l.jsx)("table",{className:"product-details",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Link tr\xean shop:"}),(0,l.jsx)("td",{children:(0,l.jsx)(a.OL,{to:"/chi-tiet-san-pham/".concat(n._id),children:"Xem t\u1ea1i \u0111\xe2y"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"ID:"}),(0,l.jsx)("td",{children:n._id})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Sku:"}),(0,l.jsx)("td",{children:n.sku})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"T\xean s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("td",{children:n.name})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Gi\xe1 nh\u1eadp:"}),(0,l.jsx)("td",{children:n.importPrice})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Gi\xe1 b\xe1n:"}),(0,l.jsx)("td",{children:n.sellPrice})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"\u1ea2nh s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("td",{children:n.pimage&&n.pimage.map((function(e,n){return(0,l.jsx)("img",{src:e,alt:"Image ".concat(n+1),className:"product-image"},n)}))})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"M\xf4 t\u1ea3:"}),(0,l.jsx)("td",{children:n.desc})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Tags:"}),(0,l.jsx)("td",{children:n.tags.join(", ")})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Ng\xe0y ph\xe1t h\xe0nh:"}),(0,l.jsx)("td",{children:n.release})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Xu\u1ea5t x\u1ee9:"}),(0,l.jsx)("td",{children:n.made})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Th\u01b0\u01a1ng hi\u1ec7u:"}),(0,l.jsx)("td",{children:n.brand})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Danh m\u1ee5c:"}),(0,l.jsx)("td",{children:n.category})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"S\u1ed1 l\u01b0\u1ee3ng trong kho:"}),(0,l.jsx)("td",{children:n.inStock})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Th\xf4ng s\u1ed1 k\u1ef9 thu\u1eadt:"}),(0,l.jsx)("td",{children:(0,l.jsx)("ul",{children:n.specs.map((function(e,n){return(0,l.jsxs)("li",{children:[e.stype,": ",e.sdetail]},n)}))})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Vouchers:"}),(0,l.jsx)("td",{children:n.voucher})]})]})})})]})}):null},h=t(3433),u=t(4942),x=t(1413),m=function(e){var n=e.onClose,t=(0,s.useState)([]),a=(0,c.Z)(t,2),d=a[0],o=a[1],m=(0,s.useState)(""),j=(0,c.Z)(m,2),p=j[0],v=j[1],f=(0,s.useState)([]),g=(0,c.Z)(f,2),b=g[0],C=g[1],N=(0,s.useState)({sku:"",name:"",importPrice:"",sellPrice:"",desc:"",tags:[],release:"",made:"",brand:"",category:"",specs:[],inStock:"",sold:0}),Z=(0,c.Z)(N,2),y=Z[0],k=Z[1];(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/category/get-category")).then((function(e){o(e.data)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i khi hi\u1ec3n th\u1ecb")}))}),[]);var w=function(e){var n=e.target,t=n.name,c=n.value;k((0,x.Z)((0,x.Z)({},y),{},(0,u.Z)({},t,c)))},S=function(e,n,t){var c=(0,h.Z)(y.specs);c[e][n]=t,k((0,x.Z)((0,x.Z)({},y),{},{specs:c}))};return(0,l.jsxs)("div",{className:"add-product-modal",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"product-modal-content",children:[(0,l.jsx)("span",{className:"close",onClick:n,children:"\xd7"}),(0,l.jsx)("h2",{children:"Th\xeam S\u1ea3n Ph\u1ea9m"}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.Z.post("".concat("http://localhost:5000","/product/add-new-product"),y,{withCredentials:!0}).then((function(e){(0,i.Am)("Th\xeam s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng"),k({sku:"",name:"",importPrice:"",sellPrice:"",desc:"",tags:[],release:"",made:"",brand:"",category:"",specs:[],inStock:"",sold:0})})).catch((function(e){e.response?(console.error("Server error response:",e.response.data),(0,i.Am)("L\u1ed7i: S\u1ea3n ph\u1ea9m \u0111\xe3 t\u1ed3n t\u1ea1i")):e.request?(console.error("No response received:",e.request),(0,i.Am)("Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c ph\u1ea3n h\u1ed3i t\u1eeb m\xe1y ch\u1ee7")):(console.error("Error:",e.message),(0,i.Am)("L\u1ed7i: ".concat(e.message)))}))},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sku",children:"SKU:"}),(0,l.jsx)("input",{type:"text",id:"sku",name:"sku",value:y.sku,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",children:"T\xean s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:y.name,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"importPrice",children:"Gi\xe1 nh\u1eadp s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"number",id:"importPrice",name:"importPrice",value:y.importPrice,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sellPrice",children:"Gi\xe1 b\xe1n s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"number",id:"sellPrice",name:"sellPrice",value:y.sellPrice,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"desc",children:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"text",id:"desc",name:"desc",value:y.desc,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"tags",children:"Tags:"}),(0,l.jsx)("input",{type:"text",id:"tags",name:"tags",value:y.tags,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"release",children:"Ng\xe0y b\xe1n:"}),(0,l.jsx)("input",{type:"date",id:"release",name:"release",value:y.release,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"made",children:"N\u01a1i s\u1ea3n xu\u1ea5t:"}),(0,l.jsx)("input",{type:"text",id:"made",name:"made",value:y.made,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"category",children:"Danh m\u1ee5c:"}),(0,l.jsxs)("select",{id:"category",name:"category",value:y.category,onChange:function(e){var n=e.target,t=n.name,c=n.value;k((0,x.Z)((0,x.Z)({},y),{},(0,u.Z)({},t,c))),v(c),C([])},required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Ch\u1ecdn danh m\u1ee5c"}),d.map((function(e){return(0,l.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"brand",children:"Th\u01b0\u01a1ng hi\u1ec7u:"}),(0,l.jsxs)("select",{id:"brand",name:"brand",value:y.brand,onClick:function(e){r.Z.get("".concat("http://localhost:5000","/brand/get-brand-cate/").concat(p)).then((function(e){C(e.data)})).catch((function(e){(0,i.Am)(e)}))},onChange:w,required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u"}),b.map((function(e){return(0,l.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"inStock",children:"S\u1ed1 l\u01b0\u1ee3ng:"}),(0,l.jsx)("input",{type:"number",id:"inStock",name:"inStock",value:y.inStock,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Th\xf4ng s\u1ed1 k\u1ef9 thu\u1eadt (Specs)"}),y.specs.map((function(e,n){return(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"text",placeholder:"Lo\u1ea1i",value:e.stype,onChange:function(e){return S(n,"stype",e.target.value)},required:!0}),(0,l.jsx)("input",{type:"text",placeholder:"Chi ti\u1ebft",value:e.sdetail,onChange:function(e){return S(n,"sdetail",e.target.value)},required:!0}),(0,l.jsx)("button",{type:"button",onClick:function(){return function(e){var n=(0,h.Z)(y.specs);n.splice(e,1),k((0,x.Z)((0,x.Z)({},y),{},{specs:n}))}(n)},children:"X\xf3a"})]},n)})),(0,l.jsx)("button",{type:"button",onClick:function(){k((0,x.Z)((0,x.Z)({},y),{},{specs:[].concat((0,h.Z)(y.specs),[{stype:"",sdetail:""}])}))},children:"Th\xeam"})]}),(0,l.jsx)("button",{type:"submit",children:"L\u01b0u s\u1ea3n ph\u1ea9m"})]})]})]})},j=function(e){var n=e.product,t=e.onClose,a=(0,s.useState)([]),d=(0,c.Z)(a,2),o=d[0],m=d[1],j=(0,s.useState)(n.category),p=(0,c.Z)(j,2),v=p[0],f=p[1],g=(0,s.useState)([]),b=(0,c.Z)(g,2),C=b[0],N=b[1],Z=(0,s.useState)(n),y=(0,c.Z)(Z,2),k=y[0],w=y[1];(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/category/get-category")).then((function(e){m(e.data)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i khi hi\u1ec3n th\u1ecb")}))}),[]);if(!n)return null;var S=function(e){var n=e.target,t=n.name,c=n.value;w((0,x.Z)((0,x.Z)({},k),{},(0,u.Z)({},t,c)))},_=function(e,n,t){var c=(0,h.Z)(k.specs);c[e][n]=t,w((0,x.Z)((0,x.Z)({},k),{},{specs:c}))};return(0,l.jsxs)("div",{className:"add-product-modal",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"product-modal-content",children:[(0,l.jsx)("span",{className:"close",onClick:t,children:"\xd7"}),(0,l.jsx)("h2",{children:"C\u1eadp nh\u1eadt S\u1ea3n Ph\u1ea9m"}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.Z.put("".concat("http://localhost:5000","/product/update-product/").concat(k._id),k,{withCredentials:!0}).then((function(e){(0,i.Am)("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),t()})).catch((function(e){console.log(e)}))},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"_id",children:"ID:"}),(0,l.jsx)("input",{type:"text",id:"_id",name:"_id",value:k._id,onChange:S,readOnly:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sku",children:"SKU:"}),(0,l.jsx)("input",{type:"text",id:"sku",name:"sku",value:k.sku,onChange:S,readOnly:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",children:"T\xean s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:k.name,onChange:S,readOnly:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"importPrice",children:"Gi\xe1 nh\u1eadp s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"number",id:"importPrice",name:"importPrice",value:k.importPrice,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sellPrice",children:"Gi\xe1 b\xe1n s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"number",id:"sellPrice",name:"sellPrice",value:k.sellPrice,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"desc",children:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m:"}),(0,l.jsx)("input",{type:"text",id:"desc",name:"desc",value:k.desc,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"tags",children:"Tags:"}),(0,l.jsx)("input",{type:"text",id:"tags",name:"tags",value:k.tags,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"release",children:"Ng\xe0y b\xe1n:"}),(0,l.jsx)("input",{type:"date",id:"release",name:"release",value:k.release,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"made",children:"N\u01a1i s\u1ea3n xu\u1ea5t:"}),(0,l.jsx)("input",{type:"text",id:"made",name:"made",value:k.made,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"category",children:"Danh m\u1ee5c:"}),(0,l.jsxs)("select",{id:"category",name:"category",value:k.category,onChange:function(e){var n=e.target,t=n.name,c=n.value;w((0,x.Z)((0,x.Z)({},k),{},(0,u.Z)({},t,c))),f(c),N([])},required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Ch\u1ecdn danh m\u1ee5c"}),o.map((function(e){return(0,l.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"brand",children:"Th\u01b0\u01a1ng hi\u1ec7u:"}),(0,l.jsxs)("select",{id:"brand",name:"brand",value:k.brand,onClick:function(e){r.Z.get("".concat("http://localhost:5000","/brand/get-brand-cate/").concat(v)).then((function(e){N(e.data)})).catch((function(e){(0,i.Am)(e)}))},onChange:S,required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u"}),C.map((function(e){return(0,l.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"inStock",children:"S\u1ed1 l\u01b0\u1ee3ng:"}),(0,l.jsx)("input",{type:"number",id:"inStock",name:"inStock",value:k.inStock,onChange:S,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Th\xf4ng s\u1ed1 k\u1ef9 thu\u1eadt (Specs)"}),k.specs.map((function(e,n){return(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"text",placeholder:"Lo\u1ea1i",value:e.stype,onChange:function(e){return _(n,"stype",e.target.value)},required:!0}),(0,l.jsx)("input",{type:"text",placeholder:"Chi ti\u1ebft",value:e.sdetail,onChange:function(e){return _(n,"sdetail",e.target.value)},required:!0}),(0,l.jsx)("button",{type:"button",onClick:function(){return function(e){var n=(0,h.Z)(k.specs);n.splice(e,1),w((0,x.Z)((0,x.Z)({},k),{},{specs:n}))}(n)},children:"X\xf3a"})]},n)})),(0,l.jsx)("button",{type:"button",onClick:function(){w((0,x.Z)((0,x.Z)({},k),{},{specs:[].concat((0,h.Z)(k.specs),[{stype:"",sdetail:""}])}))},children:"Th\xeam"})]}),(0,l.jsx)("button",{type:"submit",children:"L\u01b0u s\u1ea3n ph\u1ea9m"})]})]})]})},p=t(1717),v=t(4165),f=t(5861),g=function(e){var n=e.pid,t=e.onClose,a=(0,s.useState)([]),d=(0,c.Z)(a,2),o=d[0],h=d[1],u=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(){var c,s,a;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==o.length){e.next=4;break}return(0,i.Am)("Ch\u01b0a ch\u1ecdn h\xecnh"),e.abrupt("return");case 4:for(c=new FormData,s=0;s<o.length;s++)a=o[s],c.append("files",a);r.Z.put("".concat("http://localhost:5000","/product/upload-image-product/").concat(n),c,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){(0,i.Am)("C\u1eadp nh\u1eadt \u1ea3nh th\xe0nh c\xf4ng"),t()})).catch((function(e){(0,i.Am)(e)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("C\xf3 l\u1ed7i x\u1ea3y ra: ",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:"image-upload-modal",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("span",{className:"close",onClick:t,children:"\xd7"}),(0,l.jsx)("h1",{children:"Th\xeam h\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"}),(0,l.jsx)("div",{className:"upload-btn-wrapper",children:(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:function(e){!function(e){h(e)}(e.target.files)}})})}),o.length>0?(0,l.jsx)("button",{onClick:u,children:"T\u1ea3i l\xean"}):(0,l.jsx)("button",{onClick:function(){console.log(n);!0===window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a \u1ea3nh s\u1ea3n ph\u1ea9m n\xe0y?")&&r.Z.put("".concat("http://localhost:5000","/product/update-product/").concat(n),{pimage:[]},{withCredentials:!0}).then((function(e){(0,i.Am)(e.data.msg),t()})).catch((function(e){(0,i.Am)(e)}))},children:"X\xf3a \u1ea3nh c\u1ee7a s\u1ea3n ph\u1ea9m n\xe0y"})]})]})},b=function(e){var n=e.onClose,t=(0,s.useState)([]),a=(0,c.Z)(t,2),d=a[0],o=a[1],h=(0,s.useState)(!1),m=(0,c.Z)(h,2),j=m[0],p=m[1],v=(0,s.useState)({name:"",keyword:""}),f=(0,c.Z)(v,2),g=f[0],b=f[1],C=(0,s.useState)(""),N=(0,c.Z)(C,2),Z=N[0],y=N[1],k=d.filter((function(e){return e.name.toLowerCase().includes(Z.toLowerCase())}));(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/category/get-category")).then((function(e){o(e.data)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i khi hi\u1ec3n th\u1ecb")}))}),[j]);var w=function(e){var n=e.target,t=n.name,c=n.value;b((0,x.Z)((0,x.Z)({},g),{},(0,u.Z)({},t,c)))};return(0,l.jsxs)("div",{className:"add-product-modal",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"product-modal-content",children:[(0,l.jsx)("span",{className:"close",onClick:n,children:"\xd7"}),(0,l.jsx)("h2",{children:"Th\xeam Danh M\u1ee5c"}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.Z.post("".concat("http://localhost:5000","/category/add-category"),g,{withCredentials:!0}).then((function(e){b({name:"",keyword:""}),p(!j)})).catch((function(e){"AxiosError: Request failed with status code 400"==e?(0,i.Am)("\u0110\xe3 c\xf3 danh m\u1ee5c n\xe0y"):(0,i.Am)(e)}))},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sku",children:"T\xean danh m\u1ee5c:"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:g.name,onChange:w,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sku",children:"T\u1eeb kh\xf3a: "}),(0,l.jsx)("input",{type:"text",id:"keyword",name:"keyword",value:g.keyword,onChange:w,required:!0})]}),(0,l.jsx)("button",{type:"submit",children:"L\u01b0u danh m\u1ee5c"})]}),(0,l.jsx)("div",{className:"search-bar",children:(0,l.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm t\xean danh m\u1ee5c",value:Z,onChange:function(e){y(e.target.value)}})}),(0,l.jsxs)("div",{className:"table-cate",children:[(0,l.jsx)("h2",{children:"Danh s\xe1ch Danh M\u1ee5c"}),(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"T\xean danh m\u1ee5c"}),(0,l.jsx)("th",{children:"T\u1eeb kh\xf3a"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:k.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.keyword}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"remove-button",onClick:function(){return n=e._id,void r.Z.delete("".concat("http://localhost:5000","/category/delete-category/").concat(n),{withCredentials:!0}).then((function(e){p(!j)})).catch((function(e){(0,i.Am)(e)}));var n},children:"X\xf3a"})})]},e._id)}))})]})]})]})]})},C=function(e){var n=e.onClose,t=(0,s.useState)({name:"",category:""}),a=(0,c.Z)(t,2),d=a[0],o=a[1],h=(0,s.useState)([]),m=(0,c.Z)(h,2),j=m[0],p=m[1],v=(0,s.useState)([]),f=(0,c.Z)(v,2),g=f[0],b=f[1],C=(0,s.useState)(!1),N=(0,c.Z)(C,2),Z=N[0],y=N[1],k=(0,s.useState)(""),w=(0,c.Z)(k,2),S=w[0],_=w[1],T=j.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())||e.category.toLowerCase().includes(S.toLowerCase())}));(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/category/get-category")).then((function(e){b(e.data)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i khi hi\u1ec3n th\u1ecb")}))}),[n]),(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/brand/get-brand")).then((function(e){p(e.data)})).catch((function(e){(0,i.Am)(e)}))}),[Z]);var A=function(e){var n=e.target,t=n.name,c=n.value;o((0,x.Z)((0,x.Z)({},d),{},(0,u.Z)({},t,c)))};return(0,l.jsxs)("div",{className:"add-product-modal",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"product-modal-content",children:[(0,l.jsx)("span",{className:"close",onClick:n,children:"\xd7"}),(0,l.jsx)("h2",{children:"Th\xeam Th\u01b0\u01a1ng Hi\u1ec7u"}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.Z.post("".concat("http://localhost:5000","/brand/add-brand"),d,{withCredentials:!0}).then((function(e){o({name:"",category:""}),y(!Z)})).catch((function(e){"AxiosError: Request failed with status code 401"==e?(0,i.Am)("\u0110\xe3 c\xf3 th\u01b0\u01a1ng hi\u1ec7u n\xe0y trong danh m\u1ee5c b\u1ea1n ch\u1ecdn"):(0,i.Am)(e)}))},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sku",children:"T\xean th\u01b0\u01a1ng hi\u1ec7u:"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:d.name,onChange:A,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"sku",children:"Danh m\u1ee5c: "}),(0,l.jsxs)("select",{id:"category",name:"category",value:d.category,onChange:A,required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Ch\u1ecdn danh m\u1ee5c"}),g.map((function(e){return(0,l.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),(0,l.jsx)("button",{type:"submit",children:"L\u01b0u danh m\u1ee5c"})]}),(0,l.jsx)("div",{className:"search-bar",children:(0,l.jsx)("input",{type:"text",placeholder:"T\xecm th\u01b0\u01a1ng hi\u1ec7u/danh m\u1ee5c",value:S,onChange:function(e){_(e.target.value)}})}),(0,l.jsxs)("div",{className:"table-cate",children:[(0,l.jsx)("h2",{children:"Danh s\xe1ch Th\u01b0\u01a1ng Hi\u1ec7u"}),(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"T\xean th\u01b0\u01a1ng hi\u1ec7u"}),(0,l.jsx)("th",{children:"Danh m\u1ee5c"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:T.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.category}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"remove-button",onClick:function(){return n=e._id,void r.Z.delete("".concat("http://localhost:5000","/brand/remove-brand/").concat(n),{withCredentials:!0}).then((function(e){y(!Z)})).catch((function(e){(0,i.Am)(e)}));var n},children:"X\xf3a"})})]},e._id)}))})]})]})]})]})},N=function(){var e=(0,s.useState)(!1),n=(0,c.Z)(e,2),t=n[0],a=n[1],d=(0,s.useState)(null),h=(0,c.Z)(d,2),u=h[0],x=h[1],p=(0,s.useState)(!1),v=(0,c.Z)(p,2),f=v[0],N=v[1],Z=(0,s.useState)(!1),y=(0,c.Z)(Z,2),k=y[0],w=y[1],S=(0,s.useState)(!1),_=(0,c.Z)(S,2),T=_[0],A=_[1],D=(0,s.useState)(!1),F=(0,c.Z)(D,2),P=F[0],q=F[1],L=(0,s.useState)(!1),I=(0,c.Z)(L,2),E=I[0],M=I[1],H=(0,s.useState)(null),X=(0,c.Z)(H,2),B=X[0],G=X[1],U=(0,s.useState)(!1),Y=(0,c.Z)(U,2),K=Y[0],O=Y[1],R=(0,s.useState)(""),V=(0,c.Z)(R,2),W=V[0],$=V[1],z=(0,s.useState)([]),J=(0,c.Z)(z,2),Q=J[0],ee=J[1],ne=(0,s.useState)([]),te=(0,c.Z)(ne,2),ce=te[0],se=te[1],re=(0,s.useState)([{_id:"",sku:"",name:"",importPrice:"",sellPrice:"",pimage:[],desc:"",tags:[],release:"",made:"",brand:"",category:"",specs:[],voucher:[],inStock:""}]),ae=(0,c.Z)(re,2),ie=ae[0],le=ae[1];(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/product/get-all-admin"),{withCredentials:!0}).then((function(e){le(e.data)}))}),[K,f,P,E,T,k]),(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/category/get-category")).then((function(e){ee(e.data)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i khi hi\u1ec3n th\u1ecb")}))}),[k]);var de=ie.filter((function(e){return 0!==ce.length?e.category.toLowerCase().includes(ce.toLowerCase()):e.name.toLowerCase().includes(W.toLowerCase())||e.sku.toLowerCase().includes(W.toLowerCase())})),oe=function(e){q(!1),x(null)},he=function(){a(!1),x(null)},ue=function(e){M(!1),G(null)};return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"search-bar",children:[(0,l.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm t\xean s\u1ea3n ph\u1ea9m/sku",value:W,onChange:function(e){$(e.target.value)}}),(0,l.jsx)("button",{onClick:function(){w(!0)},className:"add-product-button",children:"T\u1ea1o danh m\u1ee5c"}),(0,l.jsx)("button",{onClick:function(){A(!0)},className:"add-product-button",children:"Th\xeam th\u01b0\u01a1ng hi\u1ec7u"}),(0,l.jsx)("button",{onClick:function(){N(!0)},className:"add-product-button",children:"Th\xeam s\u1ea3n ph\u1ea9m"})]}),(0,l.jsxs)("div",{className:"product-content",children:[(0,l.jsxs)("div",{className:"status-checkboxes",children:[(0,l.jsx)("h2",{children:"L\u1ecdc theo danh m\u1ee5c s\u1ea3n ph\u1ea9m: "}),(0,l.jsx)("label",{children:Q.map((function(e){return(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",value:e.name,checked:ce.includes(e.name),onChange:function(){return n=e.name,void se(n===ce?"":n);var n}}),e.name]})}))})]}),(0,l.jsxs)("div",{className:"table-container",children:[(0,l.jsxs)("table",{className:"product-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"M\xe3 SKU"}),(0,l.jsx)("th",{children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,l.jsx)("th",{children:"Gi\xe1 nh\u1eadp"}),(0,l.jsx)("th",{children:"Gi\xe1 b\xe1n"}),(0,l.jsx)("th",{children:"\u1ea2nh s\u1ea3n ph\u1ea9m"}),(0,l.jsx)("th",{children:"N\u01a1i s\u1ea3n xu\u1ea5t"}),(0,l.jsx)("th",{children:"H\xe3ng"}),(0,l.jsx)("th",{children:"Danh m\u1ee5c"}),(0,l.jsx)("th",{children:"T\u1ed3n kho"}),(0,l.jsx)("th",{children:"\u0110\xe3 b\xe1n"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:de.map((function(e){return(0,l.jsxs)("tr",{className:"product-row",children:[(0,l.jsx)("td",{className:"product-cell",children:e.sku}),(0,l.jsx)("td",{className:"product-cell",children:e.name}),(0,l.jsx)("td",{className:"product-cell",children:e.importPrice}),(0,l.jsx)("td",{className:"product-cell",children:e.sellPrice}),(0,l.jsx)("td",{className:"product-cell",children:(0,l.jsx)("img",{src:e.pimage?e.pimage[0]:"ch\u01b0a c\xf3"})}),(0,l.jsx)("td",{className:"product-cell",children:e.made}),(0,l.jsx)("td",{className:"product-cell",children:e.brand}),(0,l.jsx)("td",{className:"product-cell",children:e.category}),(0,l.jsx)("td",{className:"product-cell",children:e.inStock}),(0,l.jsx)("td",{className:"product-cell",children:e.sold}),(0,l.jsxs)("td",{className:"product-cell",children:[(0,l.jsx)("button",{className:"detail-button",onClick:function(){return function(e){a(!0),x(e)}(e)},children:"Chi ti\u1ebft"}),(0,l.jsx)("button",{className:"upload-button",onClick:function(){return n=e._id,M(!0),void G(n);var n},children:"Th\xeam \u1ea3nh"}),(0,l.jsx)("button",{className:"edit-button",onClick:function(){return function(e){q(!0),x(e),console.log(e)}(e)},children:"C\u1eadp nh\u1eadt"}),(0,l.jsx)("button",{className:"remove-button",onClick:function(){return function(e){console.log("Remove product with ID ".concat(e)),window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a s\u1ea3n ph\u1ea9m n\xe0y?")&&r.Z.delete("".concat("http://localhost:5000","/product/remove-product/").concat(e),{withCredentials:!0}).then((function(e){(0,i.Am)("X\xf3a th\xe0nh c\xf4ng"),O(!K)})).catch((function(e){console.log({err:e})}))}(e._id)},children:"X\xf3a"}),t&&u&&(0,l.jsx)(o,{product:u,onClose:he}),P&&u&&(0,l.jsx)(j,{product:u,onClose:oe}),E&&B&&(0,l.jsx)(g,{pid:B,onClose:ue})]})]},e._id)}))})]}),f&&(0,l.jsx)(m,{onClose:function(){N(!1),x(null)}}),k&&(0,l.jsx)(b,{onClose:function(){w(!1)}}),T&&(0,l.jsx)(C,{onClose:function(){A(!1)}})]})]})]})},Z=t(5943),y=function(e){return(0,l.jsx)("div",{children:(0,l.jsxs)(Z.Z,{dialogClassName:"modal-custom",show:e.showDetail,onHide:e.closeDetailModalHandler(),children:[(0,l.jsx)(Z.Z.Header,{closeButton:!0,children:(0,l.jsx)(Z.Z.Title,{children:"Chi ti\u1ebft t\xe0i kho\u1ea3n"})}),(0,l.jsx)(Z.Z.Body,{children:(0,l.jsx)("table",{className:"product-details",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"ID:"}),(0,l.jsx)("td",{children:e.user._id})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"T\xean:"}),(0,l.jsx)("td",{children:e.user.lastName})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"H\u1ecd:"}),(0,l.jsx)("td",{children:e.user.firstName})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Gi\u1edbi t\xednh:"}),(0,l.jsx)("td",{children:e.user.gender})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Ng\xe0y sinh:"}),(0,l.jsx)("td",{children:e.user.dob})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Username:"}),(0,l.jsx)("td",{children:e.user.userName})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),(0,l.jsx)("td",{children:e.user.phoneNumber})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Email:"}),(0,l.jsx)("td",{children:e.user.email})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Tr\u1ea1ng th\xe1i:"}),(0,l.jsx)("td",{children:e.user.status})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Nh\u1eadn th\xf4ng b\xe1o:"}),(0,l.jsx)("td",{children:e.user.getNotice?"C\xf3":"Kh\xf4ng"})]})]})})})]})})},k=t(5630),w=t(3360),S=function(e){var n=(0,s.useState)(e.user),t=(0,c.Z)(n,2),a=t[0],d=t[1],o=function(e){e.preventDefault(),d((0,x.Z)((0,x.Z)({},a),{},(0,u.Z)({},e.target.name,e.target.value)))};return(0,l.jsxs)(Z.Z,{dialogClassName:"modal-custom",show:e.showUpdate,onHide:e.closeUpdateModal,children:[(0,l.jsx)(Z.Z.Header,{closeButton:!0,children:(0,l.jsx)(Z.Z.Title,{children:"C\u1eadp nh\u1eadt t\xe0i kho\u1ea3n"})}),(0,l.jsxs)(k.Z,{onSubmit:function(n){n.preventDefault(),r.Z.put("".concat("http://localhost:5000","/user/user-update/").concat(a._id),a,{withCredentials:!0}).then((function(n){e.closeUpdateModal(),e.reload(),(0,i.Am)("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})).catch((function(e){console.log(e)}))},children:[(0,l.jsx)(Z.Z.Body,{children:(0,l.jsx)("table",{className:"product-details",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"ID:"}),(0,l.jsx)("td",{children:a._id})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Email:"}),(0,l.jsx)("td",{children:a.email})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"H\u1ecd:"}),(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"text",name:"lastName",onChange:o,value:a.lastName})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"T\xean:"}),(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"text",name:"firstName",onChange:o,value:a.firstName})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Gi\u1edbi t\xednh:"}),(0,l.jsx)("td",{children:(0,l.jsxs)("select",{name:"gender",onChange:o,value:a.gender,children:[(0,l.jsx)("option",{disabled:!0,value:""}),(0,l.jsx)("option",{name:"gender",value:"male",children:"Nam"}),(0,l.jsx)("option",{name:"gender",value:"female",children:"N\u1eef"})]})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Ng\xe0y sinh:"}),(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"date",name:"dob",onChange:o,value:a.dob})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Username:"}),(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"text",name:"userName",onChange:o,value:a.userName})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"text",name:"phoneNumber",onChange:o,value:a.phoneNumber})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Tr\u1ea1ng th\xe1i:"}),(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"text",name:"status",onChange:o,value:a.status,readOnly:!0})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Nh\u1eadn th\xf4ng b\xe1o:"}),(0,l.jsx)("td",{children:(0,l.jsxs)("select",{name:"getNotice",onChange:o,value:a.getNotice,children:[(0,l.jsx)("option",{value:!0,children:"C\xf3"}),(0,l.jsx)("option",{value:!1,children:"Kh\xf4ng"})]})})]})]})})}),(0,l.jsx)(Z.Z.Footer,{children:(0,l.jsx)(w.Z,{variant:"primary",type:"submit",children:"C\u1eadp nh\u1eadt"})})]})]})},_=function(e){var n=e.user,t=n.firstName,a=n.lastName,d=n.gender,o=(n.dob,n.phoneNumber,n.userName),h=n.email,u=n.role,x=n.image,m=n.status,j=n.getNotice,p=(0,s.useState)(!1),v=(0,c.Z)(p,2),f=v[0],g=v[1],b=(0,s.useState)(!1),C=(0,c.Z)(b,2),N=C[0],Z=C[1],k=function(){g(!0)},w=function(){g(!1)},_=function(){Z(!0)},T=function(n,t){"active"===t?r.Z.put("".concat("http://localhost:5000","/user/user-status/").concat(n,"/1"),"",{withCredentials:!0}).then((function(n){e.reload(),(0,i.Am)("\u0110\xe3 kh\xf3a t\xe0i kho\u1ea3n")})).catch((function(e){console.log(e)})):r.Z.put("".concat("http://localhost:5000","/user/user-status/").concat(n,"/0"),"",{withCredentials:!0}).then((function(n){e.reload(),(0,i.Am)("\u0110\xe3 m\u1edf kh\xf3a t\xe0i kho\u1ea3n")})).catch((function(e){console.log(e)}))};return(0,l.jsxs)("div",{className:"user-card",children:["Ch\u01b0a c\xf3"!==x&&"Chua co"!==x&&x?(0,l.jsx)("img",{src:x,alt:"".concat(t," ").concat(a)}):(0,l.jsx)("img",{src:"https://t4.ftcdn.net/jpg/05/49/98/39/360_F_549983970_bRCkYfk0P6PP5fKbMhZMIb07mCJ6esXL.jpg",alt:"".concat(t," ").concat(a)}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("h3",{children:"".concat(t," ").concat(a)}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Username:"}),(0,l.jsx)("span",{children:o||"N/A"})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Email:"}),(0,l.jsx)("span",{children:h})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Vai tr\xf2:"}),(0,l.jsx)("span",{children:u||"N/A"})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Gi\u1edbi t\xednh:"}),(0,l.jsx)("span",{children:d||"N/A"})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Tr\u1ea1ng th\xe1i:"}),(0,l.jsx)("span",{children:m||"N/A"})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Th\xf4ng b\xe1o:"}),(0,l.jsx)("span",{children:j?"Yes":"No"})]})]}),(0,l.jsxs)("div",{className:"user-card__footer",children:[(0,l.jsxs)("div",{className:"group-top",children:[(0,l.jsx)("button",{onClick:_,className:"update-btn",children:"C\u1eadp nh\u1eadt"}),"active"===m?(0,l.jsx)("button",{onClick:function(){return T(e.user._id,m)},className:"block-btn",children:"Kh\xf3a"}):(0,l.jsx)("button",{onClick:function(){return T(e.user._id,m)},className:"block-btn",children:"M\u1edf kh\xf3a"}),(0,l.jsx)("button",{onClick:function(){return n=e.user._id,void(window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y?")&&r.Z.delete("".concat("http://localhost:5000","/user/user-remove/").concat(n),{withCredentials:!0}).then((function(n){e.reload(),(0,i.Am)("X\xf3a th\xe0nh c\xf4ng")})).catch((function(e){(0,i.Am)("Kh\xf4ng th\u1ec3 x\xf3a t\xe0i kho\u1ea3n admin"),console.log({err:e})})));var n},className:"remove-btn",children:"X\xf3a"})]}),(0,l.jsx)("div",{className:"group-bottom",children:(0,l.jsx)("button",{onClick:k,className:"detail-btn",children:"Xem chi ti\u1ebft"})})]}),(0,l.jsx)(y,{showDetail:f,closeDetailModalHandler:function(){return w},openDetailModal:function(){return k},user:e.user}),(0,l.jsx)(S,{showUpdate:N,reload:function(){e.reload()},closeUpdateModal:function(){Z(!1)},openUpdateModal:_,user:e.user})]})},T=function(){var e=(0,s.useState)([]),n=(0,c.Z)(e,2),t=n[0],a=n[1],d=(0,s.useState)(!1),o=(0,c.Z)(d,2),h=o[0],u=o[1],x=(0,s.useState)(""),m=(0,c.Z)(x,2),j=m[0],p=m[1];(0,s.useEffect)((function(){r.Z.get("".concat("http://localhost:5000","/user/get-user"),{withCredentials:!0}).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[h]);var v=t.filter((function(e){var n=j.toLowerCase();return e.userName.toLowerCase().includes(n)||e.email.toLowerCase().includes(n)}));return(0,l.jsxs)("div",{className:"user-content",children:[(0,l.jsx)(i.Ix,{}),(0,l.jsx)("div",{className:"search-bar",children:(0,l.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm username/email",value:j,onChange:function(e){p(e.target.value)}})}),(0,l.jsx)("div",{className:"user-list",children:v.map((function(e){return(0,l.jsx)(_,{reload:function(){u(!h)},user:e},e._id)}))})]})},A=t(9806),D=t(1632),F=t(6850),P=t(2643),q=t(5967),L=t(3623);q.kL.register(q.qi,q.u,q.De);var I=function(e){var n={labels:e.orderStats.labels,datasets:[{label:"% \u0111\u01a1n h\xe0ng",data:e.orderStats.datasets,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return(0,l.jsx)("div",{className:"chart-component pie-chart",children:(0,l.jsx)(L.by,{data:n,options:{responsive:!0,plugins:{title:{display:!0,text:"Th\u1ed1ng k\xea \u0111\u01a1n h\xe0ng"}}}})})};q.kL.register(q.uw,q.f$,q.od,q.jn,q.Dx,q.u,q.De);var E=function(e){var n={labels:e.monthlyStats.map((function(e){return e.month})),datasets:[{label:"doanh thu",data:e.monthlyStats.map((function(e){return e.sales})),backgroundColor:"rgb(53, 162, 235)",borderColor:"rgba(53, 162, 235, 0.5)",borderWidth:1}]};return(0,l.jsx)("div",{className:"chart-component line-chart",children:(0,l.jsx)(L.x1,{data:n,options:{responsive:!0,plugins:{title:{display:!0,text:"Th\u1ed1ng k\xea doanh thu"}},scales:{x:{beginAtZero:!0,grid:{display:!1}},y:{beginAtZero:!0,grid:{display:!1}}}}})})};q.kL.register(q.uw,q.f$,q.ZL,q.Dx,q.u,q.De);var M=function(e){var n={labels:e.monthlyStats.map((function(e){return e.month})),datasets:[{label:"ng\u01b0\u1eddi d\xf9ng m\u1edbi",data:e.monthlyStats.map((function(e){return Number(e.userNum)})),backgroundColor:"rgb(255, 99, 132)"}]};return(0,l.jsx)("div",{className:"chart-component bar-chart",children:(0,l.jsx)(L.$Q,{options:{plugins:{title:{display:!0,text:"Th\u1ed1ng k\xea ng\u01b0\u1eddi d\xf9ng"}},responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}},data:n})})},H=function(){var e=(0,s.useState)(null),n=(0,c.Z)(e,2),t=n[0],a=n[1],i=(0,s.useState)(null),d=(0,c.Z)(i,2),o=d[0],h=d[1],u=(0,s.useState)(null),x=(0,c.Z)(u,2),m=x[0],j=x[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("".concat("http://localhost:5000","/statistic/get-statistic"),{withCredentials:!0}).then((function(e){a(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(n,t){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("".concat("http://localhost:5000","/statistic/user-statistic?year=").concat(2023),{withCredentials:!0}).then((function(e){h(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(n,t){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("".concat("http://localhost:5000","/statistic/sales-statistic?year=").concat(2023),{withCredentials:!0}).then((function(e){j(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();e()}),[]),(0,l.jsx)(s.Fragment,{children:(0,l.jsx)("div",{className:"dashboard",children:t&&o?(0,l.jsxs)("div",{className:"dashboard-component",children:[(0,l.jsxs)("div",{className:"stats-bar",children:[(0,l.jsxs)("div",{className:"stats-card",children:[(0,l.jsx)("div",{className:"stats-card__icon",children:(0,l.jsx)(A.G,{icon:D.Wpq})}),(0,l.jsx)("p",{children:"S\u1ed1 l\u01b0\u1ee3ng s\u1ea3n ph\u1ea9m"}),(0,l.jsx)("h3",{children:t.productTotal})]}),(0,l.jsxs)("div",{className:"stats-card",children:[(0,l.jsx)("div",{className:"stats-card__icon",children:(0,l.jsx)(A.G,{icon:F.nfZ})}),(0,l.jsx)("p",{children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u01a1n h\xe0ng"}),(0,l.jsx)("h3",{children:t.orderTotal})]}),(0,l.jsxs)("div",{className:"stats-card",children:[(0,l.jsx)("div",{className:"stats-card__icon",children:(0,l.jsx)(A.G,{icon:D.FVb})}),(0,l.jsx)("p",{children:"S\u1ed1 l\u01b0\u1ee3ng ng\u01b0\u1eddi d\xf9ng"}),(0,l.jsx)("h3",{children:t.userTotal})]}),(0,l.jsxs)("div",{className:"stats-card",children:[(0,l.jsx)("div",{className:"stats-card__icon",children:(0,l.jsx)(A.G,{icon:F.Ozh})}),(0,l.jsx)("p",{children:"T\u1ed5ng doanh thu"}),(0,l.jsx)("h3",{children:(0,P.T)(m.totalSales)})]})]}),(0,l.jsxs)("div",{className:"chart-container",children:[(0,l.jsxs)("div",{className:"chart-container__left",children:[(0,l.jsx)("div",{className:"user-chart",children:(0,l.jsx)(I,{orderStats:t.orderStats})}),(0,l.jsx)("div",{children:(0,l.jsx)(M,{monthlyStats:o.monthlyStats})})]}),(0,l.jsx)("div",{className:"chart-container__right",children:(0,l.jsx)(E,{monthlyStats:m.monthlyStats})})]})]}):(0,l.jsx)(p.Z,{})})})},X=t(1608),B=function(){var e=(0,s.useState)(),n=(0,c.Z)(e,2),t=n[0],r=n[1],a=(0,s.useState)(""),i=(0,c.Z)(a,2),d=i[0],o=i[1],u=(0,s.useState)([]),x=(0,c.Z)(u,2),m=x[0],j=x[1],p=(0,s.useState)(!1),v=(0,c.Z)(p,2),f=v[0],g=v[1];(0,s.useEffect)((function(){r((0,X.io)("http://localhost:5000"))}),[]),(0,s.useEffect)((function(){t&&(t.on("sendDataServer",(function(e){j((function(n){return[].concat((0,h.Z)(n),[{text:e,received:!0}])}))})),t.on("start-typingServer",(function(){g(!0)})),t.on("stop-typingServer",(function(){g(!1)})))}),[t]);var b=(0,s.useRef)(null);(0,s.useEffect)((function(){b.current.scrollIntoView({behavior:"smooth"})}),[m]);var C=(0,s.useState)(null),N=(0,c.Z)(C,2),Z=N[0],y=N[1];return(0,l.jsx)(s.Fragment,{children:(0,l.jsx)("div",{id:"chat_window_admin",className:"chat_window_admin",children:(0,l.jsxs)("form",{className:"chat_admin",onSubmit:function(e){e.preventDefault(),d&&(t.emit("sendDataClient",d),j((function(e){return[].concat((0,h.Z)(e),[{text:d,received:!1}])})),o(""),g(!1))},children:[(0,l.jsx)("h1",{id:"project_name_admin",children:"Now2Tech"}),(0,l.jsx)("div",{className:"chat_content_admin",children:(0,l.jsxs)("ul",{className:"chat_lines",children:[m.map((function(e){return e.received?(0,l.jsx)("li",{className:"left",children:e.text},e.text):(0,l.jsx)("li",{className:"right",children:e.text},e.text)})),(0,l.jsx)("li",{id:"a",className:"anchor",ref:b})]})}),f?(0,l.jsx)("p",{children:"\u0110ang nh\u1eadp...."}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("input",{type:"text",value:d,placeholder:"Nh\u1eadp tin nh\u1eafn...",onChange:function(e){e.preventDefault(),o(e.target.value),t.emit("start-typingClient"),Z&&clearTimeout(Z),y(setTimeout((function(){t.emit("stop-typingClient")}),1e3))}}),(0,l.jsx)("button",{type:"submit",children:(0,l.jsx)(A.G,{icon:D.XCy})})]})})})},G=t(9333),U=function(e){var n=(0,s.useState)(!1),t=(0,c.Z)(n,2),a=t[0],d=t[1],o=(0,s.useState)(),h=(0,c.Z)(o,2),m=h[0],j=h[1],p=(0,s.useState)(),g=(0,c.Z)(p,2),b=g[0],C=g[1],N=(0,s.useState)({name:"",desc:"",percent:"",start:"",end:"",image:m}),y=(0,c.Z)(N,2),S=y[0],_=y[1],T=function(e){var n=e.target,t=n.name,c=n.value;_((0,x.Z)((0,x.Z)({},S),{},(0,u.Z)({},t,c)))},A=function(){d(!1)},D=function(){var n=(0,f.Z)((0,v.Z)().mark((function n(t){var c;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==S.name&&""!==S.desc&&""!==S.percent&&""!==S.start&&""!==S.end){n.next=3;break}return n.abrupt("return",(0,i.Am)("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin \u0111\u1ec3 th\xeam."));case 3:return(c=new FormData).append("name",S.name),c.append("desc",S.desc),c.append("percent",S.percent),c.append("startDate",S.start),c.append("endDate",S.end),c.append("file",m),n.next=12,r.Z.post("".concat("http://localhost:5000","/voucher/add-new-voucher"),c,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then((function(n){_({name:"",percent:"",desc:"",end:"",start:""}),j(void 0),C(void 0),A(),(0,i.Am)("Th\xeam th\xe0nh c\xf4ng"),e.addSuccess()})).catch((function(e){return(0,i.Am)("\u0110\xe3 x\u1ea3y ra l\u1ed7i. Th\u1eed l\u1ea1i sau")}));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();(0,s.useEffect)((function(){if(m){var e=new FileReader;e.onload=function(){C(e.result)},e.readAsDataURL(m)}else C(void 0)}),[m]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"button-product-content",children:(0,l.jsx)("button",{className:"add-product-button",onClick:function(){d(!0)},children:"T\u1ea1o khuy\u1ebfn m\xe3i"})}),(0,l.jsx)(i.Ix,{}),(0,l.jsxs)(Z.Z,{dialogClassName:"modal-custom",show:a,onHide:A,children:[(0,l.jsx)(Z.Z.Header,{closeButton:!0,children:(0,l.jsx)(Z.Z.Title,{children:"Th\xeam khuy\u1ebfn m\xe3i"})}),(0,l.jsxs)(k.Z,{onSubmit:D,children:[(0,l.jsxs)(Z.Z.Body,{children:[(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"name",children:"T\xean ch\u01b0\u01a1ng tr\xecnh"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:S.name,onChange:T,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"percent",children:"Ph\u1ea7n tr\u0103m"}),(0,l.jsx)("input",{type:"number",id:"percent",name:"percent",value:S.percent,onChange:T,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"desc",children:"M\xf4 t\u1ea3"}),(0,l.jsx)("textarea",{id:"desc",name:"desc",rows:4,value:S.desc,onChange:T,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"start",children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,l.jsx)("input",{type:"date",id:"start",name:"start",value:S.start,onChange:T,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"end",children:"Ng\xe0y k\u1ebft th\xfac"}),(0,l.jsx)("input",{type:"date",id:"end",name:"end",value:S.end,onChange:T,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"image",children:"\u1ea2nh"}),(0,l.jsx)("input",{type:"file",id:"image",name:"image",onChange:function(e){e.target.files&&1===e.target.files.length&&j(e.target.files[0])},required:!0})]}),(0,l.jsx)("div",{className:"voucher_row",children:(0,l.jsxs)("div",{className:"preview-container",children:[b&&(0,l.jsx)("img",{src:b,alt:"preview"}),!b&&(0,l.jsx)("p",{children:"Ch\u01b0a c\xf3 \u1ea3nh n\xe0o!"})]})})]}),(0,l.jsx)(Z.Z.Footer,{children:(0,l.jsx)(w.Z,{variant:"primary",type:"submit",children:"Th\xeam"})})]})]})]})},Y=function(e){var n=(0,s.useState)(!1),t=(0,c.Z)(n,2),i=t[0],d=t[1],o=(0,s.useState)(),h=(0,c.Z)(o,2),u=h[0],x=h[1];return(0,s.useEffect)((function(){var n=function(){var n=(0,f.Z)((0,v.Z)().mark((function n(t,c){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.get("".concat("http://localhost:5000","/voucher/get-voucher/").concat(e.voucherId)).then((function(e){x(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();n()}),[]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"button-product-content",children:(0,l.jsx)("button",{className:"detail-button",onClick:function(){d(!0)},children:"Chi ti\u1ebft"})}),(0,l.jsxs)(Z.Z,{dialogClassName:"modal-custom",show:i,onHide:function(){d(!1)},children:[(0,l.jsx)(Z.Z.Header,{closeButton:!0,children:(0,l.jsx)(Z.Z.Title,{children:"Chi ti\u1ebft khuy\u1ebfn m\xe3i"})}),(0,l.jsx)(Z.Z.Body,{children:u?(0,l.jsxs)("table",{className:"detail-voucher__table",children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{}),(0,l.jsx)("th",{})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"ID"}),(0,l.jsx)("td",{children:u._id})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"Link tr\xean web"}),(0,l.jsx)("td",{children:(0,l.jsx)(a.rU,{to:"/khuyen-mai/".concat(u._id),children:"Xem t\u1ea1i \u0111\xe2y"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"T\xean ch\u01b0\u01a1ng tr\xecnh"}),(0,l.jsx)("td",{children:u.name})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"Ph\u1ea7n tr\u0103m"}),(0,l.jsx)("td",{children:u.percent})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"\u1ea2nh \u0111\u1ea1i di\u1ec7n"}),(0,l.jsx)("td",{children:(0,l.jsx)("img",{className:"voucher_image",src:u.image,alt:"khuyen-mai"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"M\xf4 t\u1ea3"}),(0,l.jsx)("td",{children:u.desc})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,l.jsx)("td",{children:(0,G.p)(u.start)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"voucher-title",children:"Ng\xe0y k\u1ebft th\xfac"}),(0,l.jsx)("td",{children:(0,G.p)(u.end)})]})]}):(0,l.jsx)(p.Z,{})})]})]})},K=function(e){var n=(0,s.useState)(!1),t=(0,c.Z)(n,2),a=t[0],d=t[1],o=(0,s.useState)(!1),h=(0,c.Z)(o,2),m=h[0],j=h[1],g=(0,s.useState)(),b=(0,c.Z)(g,2),C=b[0],N=b[1],y=(0,s.useState)({name:"",desc:"",end:"",start:"",percent:""}),S=(0,c.Z)(y,2),_=S[0],T=S[1];(0,s.useEffect)((function(){var n=function(){var n=(0,f.Z)((0,v.Z)().mark((function n(t,c){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.get("".concat("http://localhost:5000","/voucher/get-voucher/").concat(e.voucherId)).then((function(e){N(e.data),T({name:e.data.name,desc:e.data.desc,end:e.data.end,start:e.data.start,percent:e.data.percent})})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();n()}),[]);var A=function(e){j(!0),T((0,x.Z)((0,x.Z)({},_),{},(0,u.Z)({},e.target.name,e.target.value)))},D=function(){T({name:C.name,desc:C.desc,end:C.end,start:C.start,percent:C.percent}),j(!1),d(!1)};return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"button-product-content",children:(0,l.jsx)("button",{className:"edit-button",onClick:function(){d(!0)},children:"C\u1eadp nh\u1eadt"})}),(0,l.jsxs)(Z.Z,{dialogClassName:"modal-custom",show:a,onHide:D,children:[(0,l.jsx)(Z.Z.Header,{closeButton:!0,children:(0,l.jsx)(Z.Z.Title,{children:"C\u1eadp nh\u1eadt khuy\u1ebfn m\xe3i"})}),C?(0,l.jsxs)(k.Z,{onSubmit:function(n){n.preventDefault();var t=function(){var n=(0,f.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.put("".concat("http://localhost:5000","/voucher/update-voucher/").concat(e.voucherId),{name:_.name,desc:_.desc,percent:_.percent,startDate:_.start,endDate:_.end},{withCredentials:!0}).then((function(n){D(),(0,i.Am)("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),e.isSuccess()})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();m&&t()},children:[(0,l.jsxs)(Z.Z.Body,{children:[(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"name",children:"T\xean ch\u01b0\u01a1ng tr\xecnh"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:_.name,onChange:A,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"percent",children:"Ph\u1ea7n tr\u0103m"}),(0,l.jsx)("input",{type:"number",id:"percent",name:"percent",value:_.percent,onChange:A,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"desc",children:"M\xf4 t\u1ea3"}),(0,l.jsx)("textarea",{id:"desc",name:"desc",rows:4,value:_.desc,onChange:A,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"start",children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,l.jsx)("input",{type:"date",id:"start",name:"start",value:(0,G.r)(_.start),onChange:A,required:!0})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{htmlFor:"end",children:"Ng\xe0y k\u1ebft th\xfac"}),(0,l.jsx)("input",{type:"date",id:"end",name:"end",value:(0,G.r)(_.end),onChange:A,required:!0})]})]}),(0,l.jsxs)(Z.Z.Footer,{children:[(0,l.jsx)(w.Z,{variant:"danger",onClick:D,children:"H\u1ee7y"}),m?(0,l.jsx)(w.Z,{variant:"primary",type:"submit",children:"C\u1eadp nh\u1eadt"}):(0,l.jsx)(w.Z,{disabled:!0,variant:"primary",type:"submit",children:"C\u1eadp nh\u1eadt"})]})]}):(0,l.jsx)(Z.Z.Body,{children:(0,l.jsx)(p.Z,{})})]})]})},O=function(e){var n=(0,s.useState)(!1),t=(0,c.Z)(n,2),a=t[0],d=t[1],o=(0,s.useState)([]),u=(0,c.Z)(o,2),x=u[0],m=u[1],j=(0,s.useState)([]),p=(0,c.Z)(j,2),g=p[0],b=p[1],C=(0,s.useState)([]),N=(0,c.Z)(C,2),y=N[0],S=N[1],_=(0,s.useState)(!1),T=(0,c.Z)(_,2),A=T[0],D=T[1],F=function(){S([]),d(!1)};(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("".concat("http://localhost:5000","/voucher/get-product-for-voucher"),{withCredentials:!0}).then((function(e){return m(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[e.voucherId,A,a]),(0,s.useEffect)((function(){var n=function(){var n=(0,f.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.get("".concat("http://localhost:5000","/voucher/get-product-of-voucher/").concat(e.voucherId),{withCredentials:!0}).then((function(e){return b(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e.voucherId,A,a]);var P=function(e){y.includes(e.target.value)?S(y.filter((function(n){return n!==e.target.value}))):S([].concat((0,h.Z)(y),[e.target.value]))};return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"button-product-content",children:(0,l.jsx)("button",{className:"remove-button",onClick:function(){d(!0)},children:"Th\xeam s\u1ea3n ph\u1ea9m"})}),(0,l.jsxs)(Z.Z,{dialogClassName:"modal-custom",show:a,onHide:F,children:[(0,l.jsx)(Z.Z.Header,{closeButton:!0,children:(0,l.jsx)(Z.Z.Title,{children:"Th\xeam s\u1ea3n ph\u1ea9m khuy\u1ebfn m\xe3i"})}),(0,l.jsxs)(k.Z,{onSubmit:function(n){n.preventDefault();var t=function(){var n=(0,f.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.put("".concat("http://localhost:5000","/voucher/add-product-to-voucher/").concat(e.voucherId),{products:y},{withCredentials:!0}).then((function(e){(0,i.Am)("Th\xe0nh c\xf4ng"),S([]),D(!A)})).catch((function(e){(0,i.Am)("Kh\xf4ng th\u1ec3 th\xeam s\u1ea3n ph\u1ea9m v\xe0o ch\u01b0\u01a1ng tr\xecnh n\xe0y n\u1eefa")}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();t()},children:[(0,l.jsxs)(Z.Z.Body,{children:[x&&0!==x.length?(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{children:"Danh s\xe1ch s\u1ea3n ph\u1ea9m"}),(0,l.jsxs)("span",{children:["\u0110\xe3 ch\u1ecdn: ",y.length," s\u1ea3n ph\u1ea9m"]}),(0,l.jsx)("ul",{className:"product-list__choose",children:x.map((function(e){return(0,l.jsxs)("li",{className:"product-list__option",children:[(0,l.jsx)("input",{type:"checkbox",value:e._id,onChange:P}),(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:"".concat("http://localhost:5000","/images/").concat(e.pimage[0]),alt:"product"})}),(0,l.jsx)("div",{className:"prod-info",children:(0,l.jsx)("p",{children:e.name})})]},e._id)}))})]}):(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{children:"Danh s\xe1ch s\u1ea3n ph\u1ea9m"}),(0,l.jsxs)("span",{children:["\u0110\xe3 ch\u1ecdn: ",y.length," s\u1ea3n ph\u1ea9m"]}),(0,l.jsx)("ul",{className:"product-list__choose",children:(0,l.jsx)("h3",{children:"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m ph\xf9 h\u1ee3p"})})]}),(0,l.jsxs)("div",{className:"voucher_row",children:[(0,l.jsx)("label",{children:"Danh s\xe1ch s\u1ea3n ph\u1ea9m c\u1ee7a khuy\u1ebfn m\xe3i n\xe0y"}),g.map((function(e){return(0,l.jsx)("ul",{className:"product-list__choose",children:(0,l.jsxs)("li",{className:"product-list__option",children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:"".concat("http://localhost:5000","/images/").concat(e.pimage[0]),alt:"product"})}),(0,l.jsx)("div",{className:"prod-info",children:(0,l.jsx)("p",{children:e.name})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"button",className:"remove-button",onClick:function(){return n=e._id,void r.Z.put("".concat("http://localhost:5000","/voucher/remove-product-from-voucher/").concat(n),"",{withCredentials:!0}).then((function(e){(0,i.Am)("\u0110\xe3 x\xf3a th\xe0nh c\xf4ng"),D(!A)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i x\u1ea3y ra"),console.log(e)}));var n},value:"X\xf3a"})})]},e._id)})})),(0,l.jsx)("input",{type:"button",className:"remove-button",onClick:function(){return n=e.voucherId,void r.Z.delete("".concat("http://localhost:5000","/voucher/remove-all-product-from-voucher/").concat(n),{withCredentials:!0}).then((function(e){(0,i.Am)("\u0110\xe3 x\xf3a th\xe0nh c\xf4ng"),D(!A)})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i x\u1ea3y ra"),console.log(e)}));var n},value:"X\xf3a t\u1ea5t c\u1ea3"})]})]}),(0,l.jsxs)(Z.Z.Footer,{children:[(0,l.jsx)(w.Z,{variant:"danger",onClick:F,children:"H\u1ee7y"}),0!==y.length?(0,l.jsx)(w.Z,{variant:"primary",type:"submit",children:"Th\xeam"}):(0,l.jsx)(w.Z,{disabled:!0,variant:"primary",type:"submit",children:"Th\xeam"})]})]})]})]})},R=function(){var e=(0,s.useState)([]),n=(0,c.Z)(e,2),t=n[0],a=n[1],d=(0,s.useState)(!1),o=(0,c.Z)(d,2),h=o[0],u=o[1],x=(0,s.useState)(!1),m=(0,c.Z)(x,2),j=m[0],g=m[1],b=(0,s.useState)(""),C=(0,c.Z)(b,2),N=C[0],Z=C[1];(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("".concat("http://localhost:5000","/voucher/get-all-voucher"),{withCredentials:!0}).then((function(e){return a(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h]);var y=function(){var e=(0,f.Z)((0,v.Z)().mark((function e(n){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("B\u1ea1n mu\u1ed1n x\xf3a khuy\u1ebfn m\xe3i n\xe0y?")){e.next=4;break}return e.next=4,r.Z.delete("".concat("http://localhost:5000","/voucher/delete-voucher/").concat(n),{withCredentials:!0}).then((function(e){(0,i.Am)(e.data.msg),u(!h)})).catch((function(e){return(0,i.Am)("\u0110\xe3 x\u1ea3y ra l\u1ed7i. Th\u1eed l\u1ea1i sau")}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){u(!h)},w=function(e){window.confirm("B\u1ea1n mu\u1ed1n th\xf4ng b\xe1o t\u1edbi t\u1ea5t c\u1ea3 user?")&&r.Z.post("".concat("http://localhost:5000","/voucher/notice-voucher-to-all"),{vid:e},{withCredentials:!0}).then((function(e){(0,i.Am)("\u0110\xe3 th\xf4ng b\xe1o t\u1edbi user")})).catch((function(e){(0,i.Am)("C\xf3 l\u1ed7i"),console.log(e)}))},S=j?t.filter((function(e){return new Date(e.end)<=new Date})):t.filter((function(e){return new Date(e.end)>new Date})),_=t.filter((function(e){return e.name.toLowerCase().includes(N.toLowerCase())||e._id.toLowerCase().includes(N.toLowerCase())}));return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(i.Ix,{}),t?(0,l.jsxs)("div",{className:"product-content",children:[(0,l.jsx)("div",{className:"search-bar",children:(0,l.jsx)("input",{type:"text",placeholder:"T\xecm t\xean/m\xe3 ch\u01b0\u01a1ng tr\xecnh",value:N,onChange:function(e){Z(e.target.value)}})}),(0,l.jsxs)("div",{className:"top-voucher-page",children:[(0,l.jsx)(U,{addSuccess:function(){return k()}}),(0,l.jsx)("button",{onClick:function(){r.Z.put("".concat("http://localhost:5000","/voucher/reset-all-discount"),{vouchers:t},{withCredentials:!0}).then((function(e){(0,i.Am)("\u0110\xe3 reset l\u1ea1i c\xe1c s\u1ea3n ph\u1ea9m")})).catch((function(e){(0,i.Am)(e.message)}))},className:"add-product-button",children:"Ng\u01b0ng \xe1p d\u1ee5ng c\xe1c ch\u01b0\u01a1ng tr\xecnh h\u1ebft h\u1ea1n"})]}),(0,l.jsxs)("div",{className:"filter-checkbox-voucher",children:[(0,l.jsx)("input",{id:"checkbox",type:"checkbox",onChange:function(){return g(!j)}}),(0,l.jsx)("label",{htmlFor:"checkbox",children:"C\xe1c ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\xe3i \u0111\xe3 t\u1edbi h\u1ea1n"})]}),(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)("table",{className:"product-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Id"}),(0,l.jsx)("th",{children:"T\xean ch\u01b0\u01a1ng tr\xecnh"}),(0,l.jsx)("th",{children:"Ph\u1ea7n tr\u0103m"}),(0,l.jsx)("th",{children:"M\xf4 t\u1ea3"}),(0,l.jsx)("th",{children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,l.jsx)("th",{children:"Ng\xe0y k\u1ebft th\xfac"}),(0,l.jsx)("th",{children:"\u1ea2nh"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:""==N?(0,l.jsx)(s.Fragment,{children:S.map((function(e){return(0,l.jsxs)("tr",{className:"product-row",children:[(0,l.jsx)("td",{className:"product-cell",children:e._id}),(0,l.jsx)("td",{className:"product-cell",children:e.name}),(0,l.jsx)("td",{className:"product-cell",children:e.percent}),(0,l.jsx)("td",{className:"product-cell",children:e.desc}),(0,l.jsx)("td",{className:"product-cell",children:(0,G.p)(e.start)}),(0,l.jsx)("td",{className:"product-cell",children:(0,G.p)(e.end)}),(0,l.jsx)("td",{className:"product-cell",children:(0,l.jsx)("img",{src:e.image,alt:"voucher-banner"})}),(0,l.jsx)("td",{className:"product-cell",children:(0,l.jsxs)("div",{className:"voucher-btn",children:[(0,l.jsx)(Y,{voucherId:e._id}),(0,l.jsx)(K,{isSuccess:function(){return k()},voucherId:e._id}),(0,l.jsx)(O,{voucherId:e._id}),(0,l.jsx)("button",{className:"upload-button",onClick:function(){return w(e._id)},children:"G\u1eedi th\xf4ng b\xe1o"}),(0,l.jsx)("button",{className:"block-button",onClick:function(){return y(e._id)},children:"X\xf3a"})]})})]},e._id)}))}):(0,l.jsx)(s.Fragment,{children:_.map((function(e){return(0,l.jsxs)("tr",{className:"product-row",children:[(0,l.jsx)("td",{className:"product-cell",children:e._id}),(0,l.jsx)("td",{className:"product-cell",children:e.name}),(0,l.jsx)("td",{className:"product-cell",children:e.percent}),(0,l.jsx)("td",{className:"product-cell",children:e.desc}),(0,l.jsx)("td",{className:"product-cell",children:(0,G.p)(e.start)}),(0,l.jsx)("td",{className:"product-cell",children:(0,G.p)(e.end)}),(0,l.jsx)("td",{className:"product-cell",children:(0,l.jsx)("img",{src:e.image,alt:"voucher-banner"})}),(0,l.jsx)("td",{className:"product-cell",children:(0,l.jsxs)("div",{className:"voucher-btn",children:[(0,l.jsx)(Y,{voucherId:e._id}),(0,l.jsx)(K,{isSuccess:function(){return k()},voucherId:e._id}),(0,l.jsx)(O,{voucherId:e._id}),(0,l.jsx)("button",{className:"upload-button",onClick:function(){return w(e._id)},children:"G\u1eedi th\xf4ng b\xe1o"}),(0,l.jsx)("button",{className:"block-button",onClick:function(){return y(e._id)},children:"X\xf3a"})]})})]},e._id)}))})})]})})]}):(0,l.jsx)(p.Z,{})]})},V=function(){var e=(0,s.useState)("dashboard"),n=(0,c.Z)(e,2),t=n[0],r=n[1],a=function(e){r(e)};return(0,l.jsxs)("div",{className:"admin-dashboard",children:[(0,l.jsx)("div",{className:"sidebar",children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{className:"dashboard"===t?"active":"",onClick:function(){return a("dashboard")},children:"Th\u1ed1ng k\xea"}),(0,l.jsx)("li",{className:"orders"===t?"active":"",onClick:function(){return a("orders")},children:"\u0110\u01a1n h\xe0ng"}),(0,l.jsx)("li",{className:"products"===t?"active":"",onClick:function(){return a("products")},children:"S\u1ea3n ph\u1ea9m"}),(0,l.jsx)("li",{className:"users"===t?"active":"",onClick:function(){return a("users")},children:"T\xe0i kho\u1ea3n"}),(0,l.jsx)("li",{className:"vouchers"===t?"active":"",onClick:function(){return a("vouchers")},children:"Khuy\u1ebfn m\xe3i"}),(0,l.jsx)("li",{className:"chat"===t?"active":"",onClick:function(){return a("chat")},children:"Tin nh\u1eafn"})]})}),(0,l.jsxs)("div",{className:"content",children:["dashboard"===t&&(0,l.jsx)(H,{}),"orders"===t&&(0,l.jsx)(d,{}),"products"===t&&(0,l.jsx)(N,{}),"users"===t&&(0,l.jsx)(T,{}),"chat"===t&&(0,l.jsx)(B,{}),"vouchers"===t&&(0,l.jsx)(R,{})]})]})}},9333:function(e,n,t){t.d(n,{p:function(){return r},r:function(){return a}});var c=t(678),s=t.n(c),r=function(e){return s()(e).format("DD/MM/YYYY")},a=function(e){return s()(e).format("YYYY-MM-DD")}}}]);
//# sourceMappingURL=234.21b6f0a5.chunk.js.map