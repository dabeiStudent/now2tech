{"version":3,"file":"static/js/811.8e7b5813.chunk.js","mappings":"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","sources":["components/UIElement/Chat.jsx","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\r\nimport { io } from 'socket.io-client';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMessage, faXmark } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nimport './Chat.css';\r\n\r\nconst host = process.env.REACT_APP_BACKEND_URL;\r\nfunction Chat() {\r\n    const [socket, setSocket] = useState();\r\n    const [text, setText] = useState('');\r\n    const [content, setContent] = useState([]);\r\n    const [typing, setTyping] = useState(false);\r\n    useEffect(() => {\r\n        setSocket(io(host));\r\n        document.getElementById(\"a\").style.display = \"unset\"\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!socket) return;\r\n        socket.on('sendWelcome', () => {\r\n            setTyping(true);\r\n            setTimeout(() => {\r\n                setContent((prev) => [...prev, { text: \"Xin chào quý khách, nếu có bất kì thắc mắc gì xin hãy nhắn tin, nhân viên của chúng tôi sẽ liên hệ quý khách\", received: true }])\r\n                setTyping(false);\r\n            }, 700)\r\n        })\r\n\r\n        socket.on(\"sendDataServer\", (data) => {\r\n            setContent((prev) => [...prev, { text: data, received: true }]);\r\n        });\r\n        socket.on(\"start-typingServer\", () => {\r\n            setTyping(true);\r\n        });\r\n        socket.on(\"stop-typingServer\", () => {\r\n            setTyping(false);\r\n        });\r\n    }, [socket])\r\n\r\n    const [typingTimeout, settypingTimeout] = useState(null);\r\n    const onChange = event => {\r\n        event.preventDefault();\r\n        setText(event.target.value);\r\n        socket.emit('start-typingClient');\r\n        if (typingTimeout) clearTimeout(typingTimeout);\r\n        settypingTimeout(\r\n            setTimeout(() => {\r\n                socket.emit('stop-typingClient');\r\n            }, 1000)\r\n        );\r\n    }\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n    }, [content]);\r\n    const sendChat = e => {\r\n        e.preventDefault();\r\n        if (text) {\r\n            socket.emit(\"sendDataClient\", text)\r\n            setContent((prev) => [...prev, { text, received: false }]);\r\n            setText('');\r\n            setTyping(false);\r\n        }\r\n    }\r\n\r\n    const [isChatOpen, setIsChatOpen] = useState(true);\r\n\r\n    const openChat = e => {\r\n        e.preventDefault();\r\n        setIsChatOpen(true);\r\n        document.getElementById(\"chat_window\").style.display = \"block\"\r\n    }\r\n    const closeChat = e => {\r\n        e.preventDefault();\r\n        setIsChatOpen(false);\r\n        document.getElementById(\"chat_window\").style.display = \"none\"\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <div className='button_chat_window'>\r\n                {isChatOpen\r\n                    ? <button className=\"chat-button\" onClick={closeChat}>\r\n                        <FontAwesomeIcon icon={faXmark} />\r\n                    </button>\r\n                    : <button className=\"chat-button\" onClick={openChat}>\r\n                        <FontAwesomeIcon icon={faMessage} />\r\n                    </button>}\r\n            </div>\r\n            <div id=\"chat_window\" className='chat_window'>\r\n                <form className='chat' onSubmit={sendChat}>\r\n                    <h1 id=\"project_name\">Now2Tech</h1>\r\n                    <div className='chat_content'>\r\n                        <ul className='chat_lines'>\r\n                            {content.map((data) => (\r\n                                data.received ? <li className=\"left\" key={data.text}>{data.text}</li>\r\n                                    : <li className=\"right\" key={data.text}>{data.text}</li>\r\n                            ))}\r\n                            <li id=\"a\" className=\"anchor\" ref={messagesEndRef} />\r\n                        </ul>\r\n                    </div>\r\n                    {typing ? <p>Đang nhập....</p> : <></>}\r\n                    <input type=\"text\" value={text} placeholder='Nhập tin nhắn...' onChange={onChange} />\r\n                    <button type=\"submit\"><FontAwesomeIcon icon={faPaperPlane} /></button>\r\n\r\n                </form>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Chat;","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}"],"names":["_useState","useState","_useState2","_slicedToArray","socket","setSocket","_useState3","_useState4","text","setText","_useState5","_useState6","content","setContent","_useState7","_useState8","typing","setTyping","useEffect","io","process","document","getElementById","style","display","on","setTimeout","prev","concat","_toConsumableArray","received","data","_useState9","_useState10","typingTimeout","settypingTimeout","messagesEndRef","useRef","current","scrollIntoView","behavior","_useState11","_useState12","isChatOpen","setIsChatOpen","_jsxs","React","children","_jsx","className","onClick","e","preventDefault","FontAwesomeIcon","icon","faXmark","faMessage","id","onSubmit","emit","map","ref","_Fragment","type","value","placeholder","onChange","event","target","clearTimeout","faPaperPlane","_get","Reflect","get","bind","property","receiver","base","object","Object","prototype","hasOwnProperty","call","getPrototypeOf","desc","getOwnPropertyDescriptor","arguments","length","apply","this"],"sourceRoot":""}