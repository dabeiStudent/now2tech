{"version":3,"file":"static/js/810.b046bd3d.chunk.js","mappings":"iRA8EA,EArEkB,WACd,IAAMA,GAAcC,EAAAA,EAAAA,YAAWC,EAAAA,GACzBC,GAAWC,EAAAA,EAAAA,MACjBC,GAAwBC,EAAAA,EAAAA,UAAS,CAAEC,MAAO,GAAIC,SAAU,KAAKC,GAAAC,EAAAA,EAAAA,GAAAL,EAAA,GAAtDM,EAAIF,EAAA,GAAEG,EAAOH,EAAA,IACpBI,EAAAA,EAAAA,YAAU,WACNC,OAAOC,SAAS,EAAG,EACvB,IACA,IAAMC,EAAW,SAAAC,GACbA,EAAMC,iBACNN,GAAOO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIR,GAAI,IAAAS,EAAAA,EAAAA,GAAA,GAAGH,EAAMI,OAAOC,KAAOL,EAAMI,OAAOE,QACzD,EA4BA,OACIC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UACxBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,iBAAiBG,SA9BxB,SAAAX,GACjBA,EAAMC,iBACNW,EAAAA,EAAMC,KAAK,GAADC,OAAIC,wBAAiC,oBAAoBrB,EAC/D,CAAEsB,iBAAiB,IAElBC,MAAK,SAAAC,GACFvB,EAAQ,CAAEL,MAAO,GAAIC,SAAU,KAC/BR,EAAYoC,QAEZtB,OAAOuB,SAASC,KAAO,GAC3B,IACCC,OAAM,SAACC,GACgB,wCAAhBA,EAAIC,SACJC,EAAAA,EAAAA,IAAM,kDACiB,wCAAhBF,EAAIC,UACXC,EAAAA,EAAAA,IAAM,8CAEd,GACR,EAYoEhB,SAAA,EACpDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UACzBF,EAAAA,EAAAA,KAACmB,EAAAA,GAAc,OAEnBnB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UACxBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gCAERC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,QAAOC,SAAA,EAClBF,EAAAA,EAAAA,KAACoB,EAAAA,EAAe,CAACC,KAAMC,EAAAA,OACvBtB,EAAAA,EAAAA,KAAA,SAAOF,KAAK,QAAQC,MAAOZ,EAAKJ,MAAOS,SAAUA,EAAU+B,KAAK,OAAOC,YAAY,uCAAqBC,UAAQ,QAEpHtB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,QAAOC,SAAA,EAClBF,EAAAA,EAAAA,KAACoB,EAAAA,EAAe,CAACC,KAAMK,EAAAA,OACvB1B,EAAAA,EAAAA,KAAA,SAAOF,KAAK,WAAWC,MAAOZ,EAAKH,SAAUQ,SAAUA,EAAU+B,KAAK,WAAWC,YAAY,oDAAwBC,UAAQ,QAEjIzB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOC,UAClBF,EAAAA,EAAAA,KAAA,SAAOuB,KAAK,SAASxB,MAAM,0BAE/BI,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACIF,EAAAA,EAAAA,KAAA,KAAG2B,QA9BA,SAAAlC,GACnBA,EAAMC,iBACNf,EAAS,UACb,EA2B+CuB,SAAC,4CAC5BF,EAAAA,EAAAA,KAAA,KAAG2B,QA3BO,SAAAlC,GAC1BA,EAAMC,iBACNf,EAAS,kBACb,EAwBsDuB,SAAC,uCAM3D,C","sources":["Pages/Authenticate/LoginPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport './LoginPage.css';\r\nimport { faEnvelope, faLock } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { AuthContext } from \"../../ultis/authContext\";\r\nconst LoginPage = () => {\r\n    const authContext = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n    const [user, setUser] = useState({ email: '', passWord: '' });\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    })\r\n    const onChange = event => {\r\n        event.preventDefault();\r\n        setUser({ ...user, [event.target.name]: event.target.value });\r\n    }\r\n    const loginHandler = event => {\r\n        event.preventDefault();\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/user/user-login`, user,\r\n            { withCredentials: true }\r\n        )\r\n            .then(res => {\r\n                setUser({ email: '', passWord: '' });\r\n                authContext.login();\r\n                // navigate(-1);\r\n                window.location.href = \"/\";\r\n            })\r\n            .catch((err) => {\r\n                if (err.message === \"Request failed with status code 404\") {\r\n                    toast('Email/Mật khẩu không đúng');\r\n                } else if (err.message === \"Request failed with status code 400\") {\r\n                    toast('Tài khoản đang bị khóa');\r\n                }\r\n            })\r\n    }\r\n    const changeToSignUp = event => {\r\n        event.preventDefault();\r\n        navigate('/signup');\r\n    }\r\n    const changeToResetPassword = event => {\r\n        event.preventDefault();\r\n        navigate('/reset-password');\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"form__login\">\r\n                <form className=\"element__login\" onSubmit={loginHandler}>\r\n                    <div className=\"error_signup\">\r\n                        <ToastContainer />\r\n                    </div>\r\n                    <div className=\"label-login\">\r\n                        <h1>Đăng nhập</h1>\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <FontAwesomeIcon icon={faEnvelope} />\r\n                        <input name=\"email\" value={user.email} onChange={onChange} type=\"text\" placeholder=\"Nhập email tại đây\" required />\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <FontAwesomeIcon icon={faLock} />\r\n                        <input name=\"passWord\" value={user.passWord} onChange={onChange} type=\"password\" placeholder=\"Nhập mật khẩu tại đây\" required />\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <input type=\"submit\" value=\"TIẾP TỤC\" />\r\n                    </div>\r\n                    <div>\r\n                        <p onClick={changeToSignUp}>Đăng ký tài khoản</p>\r\n                        <p onClick={changeToResetPassword}>Quên tài khoản</p>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;\r\n\r\n\r\n\r\n"],"names":["authContext","useContext","AuthContext","navigate","useNavigate","_useState","useState","email","passWord","_useState2","_slicedToArray","user","setUser","useEffect","window","scrollTo","onChange","event","preventDefault","_objectSpread","_defineProperty","target","name","value","_jsx","className","children","_jsxs","onSubmit","axios","post","concat","process","withCredentials","then","res","login","location","href","catch","err","message","toast","ToastContainer","FontAwesomeIcon","icon","faEnvelope","type","placeholder","required","faLock","onClick"],"sourceRoot":""}